<!DOCTYPE html>
<html lang="en">
<head>
<style>
.result-box {
  margin-top: 10px;
  padding: 10px;
  border-radius: 8px;
  font-weight: bold;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.result-box.win {
  background-color: #143d2a;
  color: #33ff88;
}
.result-box.loss {
  background-color: #3d1414;
  color: #ff5c5c;
}
.result-tag {
  font-size: 1.1em;
  padding: 4px 10px;
  border-radius: 5px;
  background-color: rgba(255, 255, 255, 0.1);
}
</style>

<style>
        :root {
           
            --secondary-color: #0059FF;
            --accent-color: #ff4081;
            --background-color: #f5f7fa;
            --card-background: # ;
            --text-primary: #1a1a1a;
            --text-secondary: #666666;
            --shadow-light: 0 4px 20px rgba(0, 0, 0, 0.08);
            --shadow-medium: 0 8px 30px rgba(0, 0, 0, 0.12);
            --gradient-primary: linear-gradient(135deg, #e91e63, #c2185b);
            --border-color: rgba(0, 0, 0, 0.1);
            --icon-bg: rgba(233, 30, 99, 0.1);
            --icon-hover-bg: rgba(233, 30, 99, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body { background-color: #4b0082 !important; color: white; }

        .header {
            background: var(--card-background);
            padding: clamp(20px, 3vw, 30px) 0;
            text-align: center;
            box-shadow: var(--shadow-medium);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        .header-gradient {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            opacity: 0.1;
            z-index: 1;
        }

        .header-text {
            width: 100%;
            height: clamp(60px, 12vw, 70px);
            display: block;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        .header-text text {
            font-family: 'Orbitron', sans-serif;
            animation: neonGlow 3s ease-in-out infinite alternate;
            stroke-width: 1;
            stroke: var(--primary-color);
            font-size: clamp(28px, 6vw, 36px);
            fill: var(--primary-color);
            text-transform: uppercase;
            letter-spacing: clamp(4px, 1vw, 6px);
        }

        @keyframes neonGlow {
            0% { fill: var(--primary-color); stroke: var(--accent-color); text-shadow: 0 0 10px rgba(233, 30, 99, 0.5); }
            100% { fill: var(--accent-color); stroke: var(--primary-color); text-shadow: 0 0 20px rgba(233, 30, 99, 0.8); }
        }

        .version-info {
            display: flex;
            justify-content: center;
            gap: clamp(12px, 2vw, 18px);
            margin-top: clamp(10px, 2vw, 15px);
            position: relative;
            z-index: 2;
        }

        .version-text, .update-text {
            font-family: 'Montserrat', sans-serif;
            font-size: clamp(10px, 1.8vw, 12px);
            color: var(--primary-color);
            background: var(--icon-bg);
            padding: clamp(6px, 1vw, 8px) clamp(12px, 2vw, 16px);
            border-radius: 30px;
            border: 1px solid rgba(233, 30, 99, 0.2);
            transition: all 0.3s ease;
        }

        .version-text:hover, .update-text:hover {
            background: var(--icon-hover-bg);
            transform: translateY(-2px) rotate(3deg);
            box-shadow: 0 4px 12px rgba(233, 30, 99, 0.4);
        }

        .main-container {
            max-width: 1280px;
            width: 90%;
            margin: clamp(25px, 4vw, 40px) auto;
            background: var(--card-background);
            border-radius: clamp(16px, 2vw, 20px);
            box-shadow: var(--shadow-medium);
            padding: clamp(20px, 4vw, 30px);
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        .main-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(233, 30, 99, 0.08), transparent);
            animation: pulseGlow 12s infinite ease-in-out;
            z-index: 0;
        }

        @keyframes pulseGlow {
            0%, 100% { transform: scale(1); opacity: 0.4; }
            50% { transform: scale(1.2); opacity: 0.7; }
        }

        .control-panel {
            display: flex;
            gap: clamp(20px, 3vw, 30px);
            margin-bottom: clamp(20px, 3vw, 30px);
            flex-wrap: wrap;
            position: relative;
            z-index: 1;
        }

        .selection-box {
            flex: 1;
            min-width: clamp(200px, 45vw, 250px);
            position: relative;
        }

        .selection-box label {
            font-family: 'Montserrat', sans-serif;
            font-size: clamp(14px, 2vw, 16px);
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            margin-bottom: clamp(8px, 1vw, 10px);
            display: block;
            letter-spacing: clamp(1px, 0.2vw, 1.5px);
        }

        .selection-box select {
            width: 100%;
            padding: clamp(12px, 2vw, 14px) clamp(16px, 3vw, 20px);
            font-size: clamp(14px, 2vw, 16px);
            border: 2px solid var(--primary-color);
            border-radius: clamp(10px, 1.5vw, 12px);
            background: var(--card-background);
            color: var(--text-primary);
            appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg fill="%23e91e63" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
            background-repeat: no-repeat;
            background-position: right clamp(10px, 2vw, 14px) center;
            background-size: clamp(22px, 3vw, 26px);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-light);
        }

        .selection-box select:hover {
            border-color: var(--secondary-color);
            box-shadow: 0 0 16px rgba(233, 30, 99, 0.3);
            transform: translateY(-3px);
        }

        .selection-box select:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 20px rgba(233, 30, 99, 0.4);
        }

        .info-section {
            background: var(--background-color);
            padding: clamp(20px, 3vw, 25px);
            border-radius: clamp(12px, 2vw, 16px);
            margin: clamp(20px, 3vw, 30px) 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(clamp(180px, 35vw, 200px), 1fr));
            gap: clamp(20px, 3vw, 25px);
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.06);
            border: 1px solid var(--border-color);
            position: relative;
            z-index: 1;
        }

        .info-item {
            display: flex;
            align-items: center;
            gap: clamp(10px, 2vw, 14px);
            background: var(--card-background);
            padding: clamp(12px, 2vw, 16px);
            border-radius: clamp(10px, 1.5vw, 14px);
            box-shadow: var(--shadow-light);
            transition: all 0.3s ease;
        }

        .info-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(233, 30, 99, 0.15);
        }

        .info-item i {
            color: var(--primary-color);
            font-size: clamp(18px, 3vw, 20px);
            padding: clamp(10px, 2vw, 12px);
            background: var(--icon-bg);
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .info-item:hover i {
            background: var(--icon-hover-bg);
            transform: scale(1.15) rotate(12deg);
        }

        .info-item div {
            flex: 1;
        }

        .info-item span {
            font-size: clamp(13px, 2vw, 14px);
            font-weight: 500;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: clamp(1px, 0.2vw, 1.2px);
        }

        .info-item .value {
            font-family: 'Montserrat', sans-serif;
            font-size: clamp(16px, 2.5vw, 18px);
            font-weight: 700;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .section-title {
            font-family: 'Montserrat', sans-serif;
            font-size: clamp(24px, 5vw, 28px);
            font-weight: 700;
            color: var(--primary-color);
            text-align: center;
            margin-bottom: clamp(20px, 3vw, 25px);
            text-transform: uppercase;
            letter-spacing: clamp(2px, 0.4vw, 2.5px);
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            position: relative;
            z-index: 1;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 50%;
            transform: translateX(-50%);
            width: clamp(50px, 12vw, 70px);
            height: 4px;
            background: var(--gradient-primary);
            border-radius: 2px;
        }

        .analysis-section {
            background: var(--background-color);
            padding: clamp(20px, 3vw, 25px);
            border-radius: clamp(12px, 2vw, 16px);
            margin: clamp(20px, 3vw, 30px) 0;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.06);
            border: 1px solid var(--border-color);
            position: relative;
            z-index: 1;
        }

        .analysis-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            height: 5px;
            background: var(--gradient-primary);
            border-radius: 0 0 12px 12px;
            opacity: 0.9;
        }

        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(clamp(140px, 30vw, 160px), 1fr));
            gap: clamp(20px, 3vw, 25px);
        }

        .analysis-card {
            background: var(--card-background);
            padding: clamp(12px, 2vw, 16px);
            border-radius: clamp(10px, 1.5vw, 14px);
            text-align: center;
            box-shadow: var(--shadow-light);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .analysis-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(233, 30, 99, 0.15);
        }

        .analysis-card span {
            font-size: clamp(13px, 2vw, 14px);
            color: var(--text-secondary);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: clamp(1px, 0.2vw, 1.2px);
        }

        .analysis-card .value {
            font-family: 'Montserrat', sans-serif;
            font-size: clamp(16px, 2.5vw, 18px);
            font-weight: 700;
            color: var(--primary-color);
            margin-top: clamp(6px, 1vw, 8px);
            display: block;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .server-status-connected {
            position: relative;
            display: inline-flex;
            align-items: center;
            gap: clamp(8px, 1vw, 10px);
        }

        .server-status-connected::before {
            content: '';
            width: clamp(10px, 2vw, 12px);
            height: clamp(10px, 2vw, 12px);
            background: #4caf50;
            border-radius: 50%;
            animation: serverPulse 1.8s infinite ease-in-out;
        }

        @keyframes serverPulse {
            0% { transform: scale(1); opacity: 0.6; }
            50% { transform: scale(1.4); opacity: 1; }
            100% { transform: scale(1); opacity: 0.6; }
        }

        .progress-bar {
            width: 100%;
            height: clamp(8px, 1vw, 10px);
            background: rgba(233, 30, 99, 0.1);
            border-radius: 5px;
            overflow: hidden;
            margin-top: clamp(6px, 1vw, 8px);
            border: 1px solid rgba(233, 30, 99, 0.15);
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: 5px;
            transition: width 0.5s ease;
            position: relative;
            z-index: 1;
        }

        .progress-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(233, 30, 99, 0.3), transparent);
            animation: progressShine 2.5s infinite linear;
        }

        @keyframes progressShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .history-section {
            margin: clamp(20px, 3vw, 30px) 0;
            background: var(--background-color);
            padding: clamp(20px, 3vw, 25px);
            border-radius: clamp(12px, 2vw, 16px);
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.06);
            border: 1px solid var(--border-color);
            position: relative;
            z-index: 1;
        }

        .history-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            height: 5px;
            background: var(--gradient-primary);
            border-radius: 0 0 12px 12px;
            opacity: 0.9;
        }

        .history-card {
            background: var(--card-background);
            padding: clamp(12px, 2vw, 16px);
            border-radius: clamp(10px, 1.5vw, 14px);
            margin-bottom: clamp(12px, 2vw, 18px);
            box-shadow: var(--shadow-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .history-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(233, 30, 99, 0.15);
        }

        .history-card.pending {
            animation: subtlePulse 2s infinite ease-in-out;
        }

        @keyframes subtlePulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }

        .history-content span {
            font-size: clamp(13px, 2vw, 14px);
            margin: clamp(4px, 0.5vw, 6px) 0;
            display: flex;
            align-items: center;
            gap: clamp(8px, 1vw, 10px);
            color: var(--text-secondary);
        }

        .history-content i {
            color: var(--primary-color);
            font-size: clamp(14px, 2vw, 16px);
            background: var(--icon-bg);
            padding: clamp(6px, 1vw, 8px);
            border-radius: 50%;
            transition: transform 0.3s ease;
        }

        .history-content span:hover i {
            background: var(--icon-hover-bg);
            transform: rotate(20deg);
        }

        .history-content .value {
            font-family: 'Montserrat', sans-serif;
            font-size: clamp(14px, 2vw, 16px);
            font-weight: 700;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .status-icon {
            width: clamp(32px, 5vw, 36px);
            height: clamp(32px, 5vw, 36px);
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--icon-bg);
            border-radius: 50%;
            transition: background 0.3s ease;
        }

        .status-icon:hover {
            background: var(--icon-hover-bg);
        }

        .pending-spinner {
            width: 100%;
            height: 100%;
            border: 4px solid transparent;
            border-top: 4px solid var(--primary-color);
            border-right: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1.2s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .win-trophy::before {
            content: '091';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            font-size: clamp(18px, 3vw, 20px);
            color: #4caf50;
        }

        .loss-signal::before {
            content: '00d';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            font-size: clamp(18px, 3vw, 20px);
            color: #d32f2f;
        }

        .clear-btn {
            width: 100%;
            padding: clamp(12px, 2vw, 14px);
            background: var(--card-background);
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
            border-radius: clamp(10px, 1.5vw, 12px);
            font-family: 'Montserrat', sans-serif;
            font-size: clamp(14px, 2vw, 16px);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-light);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: clamp(10px, 2vw, 12px);
            position: relative;
            z-index: 1;
        }

        .clear-btn:hover {
            background: var(--primary-color);
            color: var(--card-background);
            box-shadow: 0 0 20px rgba(233, 30, 99, 0.4);
            transform: translateY(-3px);
        }

        .clear-btn i {
            font-size: clamp(14px, 2vw, 16px);
            transition: transform 0.3s ease;
        }

        .clear-btn:hover i {
            transform: scale(1.15) rotate(15deg);
        }

        .notification {
            position: fixed;
            top: clamp(20px, 3vw, 25px);
            left: 50%;
            transform: translateX(-50%);
            max-width: 95%;
            padding: clamp(12px, 2vw, 14px) clamp(20px, 3vw, 26px);
            border-radius: clamp(12px, 2vw, 16px);
            color: #ffffff;
            z-index: 1002;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-medium);
            animation: slideIn 0.4s ease forwards, slideOut 0.4s ease 3s forwards;
        }

        .notification.win {
            background: #4caf50;
        }

        .notification.loss {
            background: #d32f2f;
        }

        .notification-text {
            font-size: clamp(14px, 2vw, 16px);
            font-weight: 600;
        }

        .notification-close {
            font-size: clamp(14px, 2vw, 16px);
            cursor: pointer;
            padding: 0 clamp(8px, 1vw, 10px);
            transition: transform 0.3s ease;
        }

        .notification-close:hover {
            transform: scale(1.3) rotate(90deg);
        }

        @keyframes slideIn {
            0% { opacity: 0; transform: translateX(-50%) translateY(-30px); }
            100% { opacity: 1; transform: translateX(-50%) translateY(0); }
        }

        @keyframes slideOut {
            0% { opacity: 1; transform: translateX(-50%) translateY(0); }
            100% { opacity: 0; transform: translateX(-50%) translateY(-30px); }
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.75);
            z-index: 999;
        }

        .break-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--card-background);
            padding: clamp(25px, 4vw, 30px);
            border-radius: clamp(14px, 2vw, 18px);
            box-shadow: var(--shadow-medium);
            z-index: 1001;
            text-align: center;
            color: var(--text-primary);
            border: 2px solid var(--primary-color);
            max-width: 95%;
            width: clamp(300px, 75vw, 360px);
            transition: transform 0.4s ease;
        }

        .break-popup:hover {
            transform: translate(-50%, -50%) scale(1.03);
        }

        .break-popup h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: clamp(22px, 5vw, 24px);
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: clamp(12px, 2vw, 14px);
            text-transform: uppercase;
        }

        .break-popup p {
            font-size: clamp(14px, 2vw, 16px);
            line-height: 1.6;
            color: var(--text-secondary);
        }

        .break-popup i {
            color: var(--primary-color);
            font-size: clamp(24px, 5vw, 28px);
            margin-bottom: clamp(12px, 2vw, 14px);
            display: block;
            transition: transform 0.4s ease;
        }

        .break-popup:hover i {
            transform: rotate(360deg);
        }

        @media (min-width: 769px) {
            .control-panel {
                flex-direction: row;
            }

            .info-section {
                grid-template-columns: repeat(3, 1fr);
            }

            .analysis-grid {
                grid-template-columns: repeat(3, 1fr);
            }

            .main-container {
                width: 85%;
            }
        }

        @media (max-width: 768px) {
            .header-text text {
                font-size: clamp(24px, 7vw, 30px);
            }

            .control-panel {
                flex-direction: column;
                gap: clamp(15px, 4vw, 25px);
            }

            .info-section {
                grid-template-columns: 1fr;
            }

            .analysis-grid {
                grid-template-columns: repeat(auto-fit, minmax(clamp(120px, 50vw, 140px), 1fr));
            }

            .history-card {
                flex-direction: column;
                text-align: center;
                gap: clamp(10px, 2vw, 12px);
            }

            .history-content span {
                justify-content: center;
            }

            .status-icon {
                margin-top: clamp(10px, 2vw, 12px);
            }

            .clear-btn {
                font-size: clamp(13px, 3vw, 15px);
                padding: clamp(10px, 2vw, 12px);
            }

            .notification {
                top: clamp(15px, 4vw, 20px);
                padding: clamp(10px, 2vw, 12px) clamp(16px, 3vw, 20px);
            }

            .break-popup {
                width: clamp(260px, 85vw, 320px);
            }
        }

        @media (max-width: 480px) {
            .header-text text {
                font-size: clamp(20px, 6vw, 26px);
            }

            .version-text, .update-text {
                font-size: clamp(9px, 2.5vw, 10px);
                padding: clamp(4px, 1vw, 6px) clamp(8px, 2vw, 10px);
            }

            .main-container {
                padding: clamp(15px, 4vw, 25px);
                width: 98%;
            }

            .selection-box {
                min-width: 100%;
            }

            .selection-box select {
                padding: clamp(10px, 2vw, 12px) clamp(14px, 3vw, 16px);
                font-size: clamp(13px, 3vw, 15px);
            }

            .info-item {
                padding: clamp(10px, 2vw, 12px);
            }

            .section-title {
                font-size: clamp(22px, 6vw, 24px);
            }

            .analysis-card {
                padding: clamp(10px, 2vw, 12px);
            }

            .history-card {
                padding: clamp(10px, 2vw, 12px);
            }
        }
    
body { background-color: #4b0082 !important; color: white; }

@keyframes gradientMove {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
}

.analysis-card, .info-item, .history-card, .clear-btn {
    transition: transform 0.5s ease, box-shadow 0.5s ease !important;
}

.analysis-card:hover, .info-item:hover, .history-card:hover, .clear-btn:hover {
    transform: scale(1.05) rotate(1deg) !important;
    box-shadow: 0 0 25px rgba(233, 30, 99, 0.4) !important;
}


body { background-color: #4b0082 !important; color: white; }

.main-container, .info-item, .analysis-card, .history-card, .clear-btn {
    background: rgba(255, 255, 255, 0.05) !important;
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    color: #ffffff;
}

.section-title {
    background: linear-gradient(to right, #30CFD0, #330867);
    -webkit-background-clip: text;
    color: transparent;
    font-weight: 800;
    text-shadow: none;
}

.analysis-card:hover, .info-item:hover, .history-card:hover {
    transform: scale(1.04);
    transition: transform 0.3s ease;
}


body { background-color: #4b0082 !important; color: white; }

@keyframes rainbowFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.main-container, .info-item, .analysis-card, .history-card, .clear-btn {
    background-color: rgba(0, 0, 0, 0.6) !important;
    color: #ffffff !important;
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);
}

.section-title, .value, .info-item span, .analysis-card span {
    color: #ffffff !important;
    text-shadow: 0 0 6px #ff4081;
}

.header-text text {
    fill: #ffffff !important;
    stroke: #ff4081 !important;
    text-shadow: 0 0 10px #ff4081;
}

.clear-btn {
    background-color: #ff4081 !important;
    color: #ffffff !important;
    font-weight: bold;
    border: none !important;
}

.clear-btn:hover {
    background-color: #ff1e64 !important;
    box-shadow: 0 0 12px #ff4081;
    transform: scale(1.05);
}


*, span, label, .value, select, option, .analysis-card span, .info-item span, .history-content span,
#periodNumber, #timer, #currentResult, #winAccuracy, #totalWins, #totalLosses, #serverStatus {
    color: #ffffff !important;
    background: none !important;
    text-shadow: 0 0 5px rgba(255, 255, 255, 0.4);
}


body { background-color: #4b0082 !important; color: white; }

@keyframes fullColorFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.main-container, .info-item, .analysis-card, .history-card, .clear-btn, .selection-box select {
    background: rgba(0, 0, 0, 0.5) !important;
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #ffffff !important;
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
}

.section-title, span, label, .value, .history-content span, #currentResult, #timer, #periodNumber, #winAccuracy, #totalWins, #totalLosses, #serverStatus {
    color: #ffffff !important;
    background: none !important;
    text-shadow: 0 0 8px rgba(255,255,255,0.4);
}

.header-text text {
    fill: #ffffff !important;
    stroke: #ff4081 !important;
    text-shadow: 0 0 10px #ff4081;
}


body { background-color: #4b0082 !important; color: white; }

@keyframes vibrantFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.main-container, .info-item, .analysis-card, .history-card, .clear-btn, .selection-box select {
    background: linear-gradient(135deg, rgba(255,255,255,0.05), rgba(0,0,0,0.3)) !important;
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);
    color: #ffffff !important;
    backdrop-filter: blur(4px);
}

.section-title, .value, .info-item span, .analysis-card span,
span, label, .history-content span, #currentResult, #timer, #periodNumber,
#winAccuracy, #totalWins, #totalLosses, #serverStatus {
    color: #ffffff !important;
    background: none !important;
    text-shadow: 0 0 8px rgba(255,255,255,0.5);
}

.clear-btn {
    background: linear-gradient(to right, #ff416c, #ff4b2b) !important;
    border: none !important;
    color: #ffffff !important;
    font-weight: bold;
    box-shadow: 0 0 15px rgba(255, 75, 43, 0.5);
}

.clear-btn:hover {
    background: linear-gradient(to right, #f12711, #f5af19) !important;
    transform: scale(1.05);
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
}

.header-text text {
    fill: #ffffff !important;
    stroke: #ff4081 !important;
    text-shadow: 0 0 10px #ff4081;
}


body { background-color: #4b0082 !important; color: white; }

@keyframes fullSpectrum {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.main-container, .info-item, .analysis-card, .history-card, .clear-btn, .selection-box select {
    background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(0,0,0,0.3), rgba(255,255,255,0.05)) !important;
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.15);
    color: #ffffff !important;
    backdrop-filter: blur(6px);
}

.section-title, .value, .info-item span, .analysis-card span,
span, label, .history-content span, #currentResult, #timer, #periodNumber,
#winAccuracy, #totalWins, #totalLosses, #serverStatus {
    color: #ffffff !important;
    background: none !important;
    text-shadow: 0 0 12px rgba(255,255,255,0.4);
}

.clear-btn {
    background: linear-gradient(to right, #fc466b, #3f5efb) !important;
    border: none !important;
    color: #ffffff !important;
    font-weight: bold;
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.4);
}

.clear-btn:hover {
    background: linear-gradient(to right, #ff4b2b, #ff416c) !important;
    transform: scale(1.05);
    box-shadow: 0 0 30px rgba(255, 255, 255, 0.4);
}

.header-text text {
    fill: url(#textGradient);
    stroke: #ffffff;
    text-shadow: 0 0 15px rgba(255, 255, 255, 0.7);
}


body { background-color: #4b0082 !important; color: white; }

@keyframes galaxyFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.main-container, .info-section, .analysis-section, .history-section,
.info-item, .analysis-card, .history-card, .clear-btn, .selection-box select {
    background: linear-gradient(135deg, rgba(255, 0, 150, 0.25), rgba(0, 0, 0, 0.45)) !important;
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 0 18px rgba(255, 255, 255, 0.1);
    color: #ffffff !important;
    backdrop-filter: blur(6px);
}

span, label, .value, .section-title, .info-item span, .analysis-card span,
.history-content span, #currentResult, #timer, #periodNumber,
#winAccuracy, #totalWins, #totalLosses, #serverStatus {
    color: #ffffff !important;
    background: none !important;
    text-shadow: 0 0 8px rgba(255,255,255,0.6);
}

.clear-btn {
    background: linear-gradient(to right, #ff416c, #ff4b2b) !important;
    border: none !important;
    font-weight: bold;
    color: #ffffff !important;
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
}

.clear-btn:hover {
    transform: scale(1.08);
    box-shadow: 0 0 28px rgba(255, 255, 255, 0.4);
}

.header-text text {
    fill: #ffffff !important;
    stroke: #ffffff !important;
    text-shadow: 0 0 14px #ff4081;
}

</style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ERROR VIP HACK</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Orbitron:wght@700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    

<style>
.main-container,
.info-section,
.analysis-section,
.history-section,
.info-item,
.analysis-card,
.history-card,
.clear-btn,
.selection-box select {
    background: rgba(255, 255, 255, 0.06) !important;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.15);
    color: #fff !important;
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
}

.section-title,
.value,
span,
label,
.history-content span {
    color: #ffffff !important;
    text-shadow: 0 0 6px rgba(255, 255, 255, 0.3);
}

.clear-btn {
    background: rgba(255, 64, 129, 0.2) !important;
    border: 1px solid rgba(255, 64, 129, 0.4) !important;
}

.clear-btn:hover {
    background: rgba(255, 64, 129, 0.4) !important;
    box-shadow: 0 0 12px #ff4081;
    transform: scale(1.05);
}
</style>


<style>
body.theme1 { background-color: #003366 !important; color: #aadcee !important; }
body.theme2 { background-color: #3b0066 !important; color: #f0caff !important; }
body.theme3 { background-color: #003300 !important; color: #33ff33 !important; }
body.theme4 { background-color: #f8f8f8 !important; color: #111 !important; }
body.theme5 { background-color: #000000 !important; color: #ffcc00 !important; }
body.default-theme { background-color: #4b0082 !important; color: white !important; }
</style>



<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyBjJHUx76hz6tFi2IKgBXOCaNma6hNyLY4",
    authDomain: "webs-f0279.firebaseapp.com",
    projectId: "webs-f0279",
    storageBucket: "webs-f0279.firebasestorage.app",
    messagingSenderId: "187261422396",
    appId: "1:187261422396:web:8d1d5d3035242f2f182c39",
    measurementId: "G-0SLDHHW5E8"
  };
  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
</head>
<body>
<!-- LOGIN OVERLAY (auto‚Äëinserted) -->
<style>
#loginPage{
  position:fixed;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center;
  background:#4b0082;z-index:2000;font-family:'Montserrat',sans-serif;
}
#loginBox{
  background:rgba(255,255,255,0.05);padding:32px 28px;border-radius:14px;
  box-shadow:0 8px 24px rgba(0,0,0,0.4);backdrop-filter:blur(10px);text-align:center;
}
#loginBox h2{color:#ff4081;margin-bottom:18px;font-size:1.4rem;}
#keyInput{
  width:240px;padding:12px 14px;border-radius:10px;border:2px solid #ff4081;
  background:rgba(0,0,0,0.2);color:#fff;font-size:1rem;margin-bottom:14px;text-align:center;
}
#loginBtn{
  padding:12px 24px;border:none;border-radius:10px;background:#ff4081;color:#fff;font-weight:600;
  cursor:pointer;font-size:1rem;width:240px;
}
#loginBtn:hover{background:#ff1e64;}
</style>
<style>
  #loginPage {
    position: fixed; inset: 0; display: flex; flex-direction: column;
    justify-content: center; align-items: center;
    background: black; color: #33ff33; font-family: 'Courier New', monospace;
    z-index: 9999;
  }
  #terminalLogin {
    background: #000; padding: 30px 24px; border-radius: 10px;
    box-shadow: 0 0 20px #00ff00; width: 320px;
    text-align: left; border: 1px solid #33ff33;
  }
  .term-line {
    margin: 10px 0;
    display: flex;
    flex-direction: column;
  }
  .term-line span {
    margin-bottom: 4px;
  }
  .term-input {
    background: black; border: none; border-bottom: 2px solid #33ff33;
    color: #33ff33; padding: 8px; font-size: 1rem;
    outline: none;
  }
  #loginBtn {
    background: none; border: 1px solid #33ff33;
    color: #33ff33; padding: 8px 20px; margin-top: 12px;
    cursor: pointer; font-family: 'Courier New', monospace;
  }
  #loginBtn:hover {
    background: #33ff33; color: black;
  }
  #buyKey {
    margin-top: 16px;
    font-size: 0.9rem;
    color: #999;
    cursor: pointer;
    text-decoration: underline;
  }
</style>

<div id="loginPage">
  <div id="terminalLogin">
    <div class="term-line">
      <span>&gt; access system --mode=private</span>
      <input id="keyInput" class="term-input" placeholder="Enter access token..." autocomplete="off" spellcheck="false" />
    </div>
    <button id="loginBtn">Run</button>
    <div id="buyKey" onclick="window.open('https://t.me/ERROR_2ND', '_blank')">/request_token</div>
  </div>
</div>
<!-- /LOGIN OVERLAY -->

<!-- hidden iframe that preloads admin_panel.html so its JS runs and localStorage.keys is populated -->
<iframe src="admin_panel.html" style="display:none;width:0;height:0;border:0;" onload="console.log('Admin panel preloaded for key share');"></iframe>

<div id="app" style="display:none;">

<canvas id="particleCanvas" style="position:fixed; top:0; left:0; width:100vw; height:100vh; z-index:-1;"></canvas>
    <div class="header">
         <div class="header-gradient"></div>
        <svg class="header-text">
            <text x="50%" y="50%" dy=".35em" text-anchor="middle">
        ùêÑùêëùêëùêéùêë ùêïùêàùêè ùêáùêÄùêÇùêä        
         </text>
        </svg>
        <div class="version-info">
       </div>
    </div>

    

<div style="display: flex; justify-content: space-around; padding: 16px; margin-top: 10px;">
  <button onclick="showPage('home')" style="background: #ff4081; color: white; padding: 12px 20px; border-radius: 12px; border: none; font-size: 14px;">
    <i class="fas fa-home"></i><br>Home
  </button>
  <button onclick="showPage('status')" style="background: #2196f3; color: white; padding: 12px 20px; border-radius: 12px; border: none; font-size: 14px;">
    <i class="fas fa-signal"></i><br>Status
  </button>
  <button onclick="showPage('history')" style="background: #4caf50; color: white; padding: 12px 20px; border-radius: 12px; border: none; font-size: 14px;">
    <i class="fas fa-history"></i><br>History
  </button>
  

  <button onclick="showPage('settings')" style="background: #ff9800; color: white; padding: 12px 20px; border-radius: 12px; border: none; font-size: 14px;">
    <i class="fas fa-tools"></i><br>Features
  </button>

  <button onclick="showPage('settingsPage')" style="background: #9c27b0; color: white; padding: 12px 20px; border-radius: 12px; border: none; font-size: 14px;">
    <i class="fas fa-cogs"></i><br>Settings
  </button>
</div>
<div class="main-container"><div id="home" class="page-section active">
        <div class="control-panel">
            <div class="selection-box">
                <label for="resultType">Result Type</label>
                <select id="resultType" onchange="resetServerSelection()">
                    <option value="bigsmall">BIG/SMALL</option>
                   <option value="redgreen">RED/GREEN</option>
                </select>
            </div>
            <div class="selection-box">
                <label for="serverSelect">Server</label>
                <select id="serverSelect" onchange="updateServerSelection()">
                    <option value="">Select Server</option>
                       <option value="vip">WINGO 1 MINUTE </option>
                    <option value="guaranteedWin">GUARANTEED WIN SERVER</option>
                 
                </select>
            </div>
        </div>

        <div class="info-section">
            <div class="info-item">
                <i class="fas fa-calendar-check"></i>
                <div>
                    <span>Period</span>
                    <span id="periodNumber" class="value">Loading...</span>
                </div>
            </div>
            <div class="info-item">
                <i class="fas fa-clock"></i>
                <div>
                    <span>Time Left</span>
                    <span id="timer" class="value">00:00</span>
                </div>
            </div>
            <div class="info-item">
                <i class="fas fa-poll"></i>
                <div>
                    <span>Result</span>
                    <span id="currentResult" class="value">Waiting...</span>
                </div>
            
<div class="info-item">
    <i class="fas fa-hourglass-start"></i>
    <div>
        <span>Session Time</span>
        <span id="sessionTimer" class="value">00:00:00</span>
    </div>
</div>
</div>
        </div>

        <div class="analysis-section">

</div>

            
</div></div><div id="status" class="page-section"><div class="analysis-section" id="levelMaintainingPanel">
  <div class="section-title">LEVEL MAINTAINING</div>
  <div class="analysis-grid" style="grid-template-columns: 1fr;">
    <div class="analysis-card">
      <span>Target Amount (Rs)</span>
      <input type="number" id="targetProfit" value="200" style="width: 100%; padding: 8px; text-align: center; font-weight: bold; border-radius: 6px;">
    </div>
    <div class="analysis-card">
      <span>Bankroll (Rs)</span>
      <input type="number" id="initialBankroll" value="100" style="width: 100%; padding: 8px; text-align: center; font-weight: bold; border-radius: 6px;">
    </div>
    <div class="analysis-card">
      <span>Starting Bet (Rs)</span>
      <input type="number" id="startingBet" value="10" style="width: 100%; padding: 8px; text-align: center; font-weight: bold; border-radius: 6px;">
    </div>
    <div style="grid-column: span 3; text-align: center;">
      <button onclick="applyLevelSettings()" class="clear-btn"><i class="fas fa-sync-alt"></i> Update</button>
    </div>
    <div class="analysis-card">
      <span>Remaining to Target</span>
      <span id="remainingToTarget" class="value">0</span>
    </div>
    <div class="analysis-card">
      <span>Next Bet Amount</span>
      <span id="nextBet" class="value">0</span>
    </div>
  </div>
</div>

<div class="section-title">Analysis Dashboard</div>
            <div class="analysis-grid">
                <div class="analysis-card">
                
                  <div class="analysis-card">
                    <span>Win Rate</span>
                    <span id="winAccuracy" class="value">0%</span>
                    <div class="progress-bar">
                        <div id="winRateFill" class="progress-fill" style="width: 0%;"></div>
                    </div>
                </div>
                <div class="analysis-card">
                    <span>Wins</span>
                    <span id="totalWins" class="value">0</span>
                </div>
                <div class="analysis-card">
                    <span>Losses</span>
                    <span id="totalLosses" class="value">0</span>
                </div>
                <div class="analysis-card">
                    <span>Server Status</span>
                    <span id="serverStatus" class="value server-status-connected">Connected</span>
                </div>
            </div>
        </div>

        </div></div><div id="history" class="page-section"><div class="history-section">
            <div class="section-title">Prediction History</div>
            <div id="historyBody"></div>
            <button class="clear-btn" onclick="clearHistory()">
                <i class="fas fa-trash-alt"></i> Clear History
            </button>
        </div>
    </div>

    <!-- Break overlay removed -->
    <!-- Break popup removed -->
        
    </div>

       <script>
          
      
      const periodNumberElement = document.getElementById('periodNumber');
const timerElement = document.getElementById('timer');
const currentResultElement = document.getElementById('currentResult');
const historyBody = document.getElementById('historyBody');
const breakPopup = document.getElementById('breakPopup');
const breakOverlay = document.getElementById('breakOverlay');
const winRateFill = document.getElementById('winRateFill');
const mostFrequentElement = document.getElementById('mostFrequent');
const leastFrequentElement = document.getElementById('leastFrequent');
const resultTypeSelect = document.getElementById('resultType');
const serverSelect = document.getElementById('serverSelect');

let lastPeriodNumber = null;
let history = [];
let currentResult = null;
let pendingResult = null;
let winCount = 0;
let lossStreak = 0;
let totalBets = 0;
let totalWins = 0;
let totalLosses = 0;
let isResultProcessing = false;
let selectedServer = '';
let lastTimerUpdate = 0;
let cachedData = [];
let lastResults = { bigsmall: [], redgreen: [] };

function resetServerSelection() {
    serverSelect.value = '';
    selectedServer = '';
    currentResultElement.textContent = 'waiting For Server...';
}

function updateServerSelection() {
    selectedServer = serverSelect.value;
    if (selectedServer && !isResultProcessing && lastPeriodNumber) {
        generateResult(lastPeriodNumber);
    } else {
        currentResultElement.textContent = 'waiting For Server...';
    }
}

function updatePeriodAndTimer() {
    const now = new Date();
    const currentTime = now.getTime();

    if (currentTime - lastTimerUpdate < 1000) return;
    lastTimerUpdate = currentTime;

    now.setUTCSeconds(now.getUTCSeconds());
    const year = now.getUTCFullYear();
    const month = String(now.getUTCMonth() + 1).padStart(2, '0');
    const day = String(now.getUTCDate()).padStart(2, '0');
    const totalMinutes = now.getUTCHours() * 60 + now.getUTCMinutes();

    const periodNumber = `${year}${month}${day}1000${10001 + totalMinutes}`;
    const remainingSeconds = 60 - now.getUTCSeconds();

    if (lastPeriodNumber !== periodNumber) {
        if (pendingResult && lastPeriodNumber) {
            checkPendingResult(lastPeriodNumber).catch(err => console.error('Pending result check failed:', err));
        }
        lastPeriodNumber = periodNumber;
        periodNumberElement.textContent = periodNumber || 'N/A';
        if (selectedServer) {
            generateResult(periodNumber);
        } else {
            currentResultElement.textContent = 'waiting For Server...';
        }
    }

    timerElement.textContent = `00:${String(remainingSeconds).padStart(2, '0')}`;
}

async function fetchPage(page) {
    try {
        const response = await fetch("https://api.bdg88zf.com/api/webapi/GetNoaverageEmerdList", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                pageSize: 10,
                pageNo: page,
                typeId: 1,
                language: 0,
                random: "4a0522c6ecd8410496260e686be2a57c",
                signature: "334B5E70A0C9B8918B0B15E517E2069C",
                timestamp: Math.floor(Date.now() / 1000)
            })
        });
        if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
        const data = await response.json();
        return data?.data?.list || [];
    } catch (error) {
        console.error(`Error fetching page ${page}:`, error);
        return [];
    }
}

async function fetchOptimizedData(maxPages = 10) {
    if (cachedData.length >= 100) {
        return cachedData.slice(0, 100);
    }

    const allData = [];
    const promises = [];
    for (let i = 1; i <= maxPages; i++) {
        promises.push(fetchPage(i));
    }
    try {
        const results = await Promise.all(promises);
        results.forEach(pageData => allData.push(...pageData));
        cachedData = allData;
        return allData.slice(0, 100);
    } catch (error) {
        console.error('Error fetching optimized data:', error);
        return [];
    }
}
      

async function guaranteedWinServerMethod(type, period) {
    const allowedTimes = [
        "12:00 AM", "12:30 AM", "1:00 AM", "1:30 AM", "2:00 AM", "2:30 AM", "3:00 AM", "3:30 AM",
        "4:00 AM", "4:30 AM", "5:00 AM", "5:30 AM", "6:00 AM", "6:30 AM", "7:00 AM", "7:30 AM",
        "8:00 AM", "8:30 AM", "9:00 AM", "9:30 AM", "10:00 AM", "10:30 AM", "11:00 AM", "11:30 AM",
        "12:00 PM", "12:30 PM", "1:00 PM", "1:30 PM", "2:00 PM", "2:30 PM", "3:00 PM", "3:30 PM",
        "4:00 PM", "4:30 PM", "5:00 PM", "5:30 PM", "6:00 PM", "6:30 PM", "7:00 PM", "7:30 PM",
        "8:00 PM", "8:30 PM", "9:00 PM", "9:30 PM", "10:00 PM", "10:30 PM", "11:00 PM", "11:30 PM"
    ];

    const now = new Date();
    const hours = now.getHours();
    const minutes = now.getMinutes();
    const periodStr = hours >= 12 ? 'PM' : 'AM';
    const adjustedHours = hours % 12 || 12;
    const currentTimeStr = `${adjustedHours}:${String(minutes).padStart(2, '0')} ${periodStr}`;

    const isExactTime = allowedTimes.includes(currentTimeStr);
    if (!isExactTime) {
        const nextTime = getNextAllowedTime(currentTimeStr);
        return { result: "Awaiting Next Cycle", probability: 0, message: `Next at ${nextTime}` };
    }

    const actualResult = await fetchGameResult(period);
    if (actualResult) {
        return { 
            result: type === 'bigsmall' ? actualResult.actualResult : actualResult.colorResult, 
            probability: 100, 
            message: `Locked Win at ${currentTimeStr} (API)` 
        };
    }

    const data = await fetchOptimizedData();
    const numbers = data.length ? data.map(item => parseInt(item.number , 10) % 10) : Array(20).fill(Math.floor(Math.random() * 10));
    const recentResults = numbers.slice(0, 10);
    const historicalWins = history.filter(h => h.status === 'WIN' && h.resultType === type).map(h => h.result);

    const resultCounts = recentResults.reduce((acc, n) => {
        acc[type === 'bigsmall' ? (n >= 5? 'BIG' : 'SMALL') : ([0, 2, 4, 6, 8].includes(n) ? 'RED' : 'GREEN')] = 
            (acc[type === 'bigsmall' ? (n >= 5 ? 'BIG' : 'SMALL') : ([0, 2, 4, 6, 8].includes(n) ? 'RED' : 'GREEN')] || 0) + 1;
        return acc;
    }, {});
    
    const trend = recentResults.reduce((sum, n, i) => sum + (i > 0 ? n - recentResults[i - 1] : 0), 0) / 9;
    const dominantResult = Object.entries(resultCounts).reduce((a, b) => a[1] > b[1] ? a : b)[0];

    let predictedResult = dominantResult;
    if (trend > 0 && dominantResult === 'SMALL') predictedResult = 'BIG';
    else if (trend < 0 && dominantResult === 'BIG') predictedResult = 'SMALL';
    else if (trend > 0 && dominantResult === 'GREEN') predictedResult = 'RED';
    else if (trend < 0 && dominantResult === 'RED') predictedResult = 'GREEN';

    if (historicalWins.length > 5 && !historicalWins.slice(-5).includes(predictedResult)) {
        predictedResult = historicalWins.slice(-1)[0] || predictedResult;
    }

    return { 
        result: predictedResult, 
        probability: 100, 
        message: `Guaranteed Win at ${currentTimeStr} (Enhanced Prediction)` 
    };
}

function getNextAllowedTime(currentTimeStr) {
    const [time, period] = currentTimeStr.split(' ');
    let [hours, minutes] = time.split(':').map(Number);
    if (period === 'PM' && hours !== 12) hours += 12;
    if (period === 'AM' && hours === 12) hours = 0;
    const currentMinutes = hours * 60 + minutes;

    const allowedTimes = [
        "12:00 AM", "12:30 AM", "1:00 AM", "1:30 AM", "2:00 AM", "2:30 AM", "3:00 AM", "3:30 AM",
        "4:00 AM", "4:30 AM", "5:00 AM", "5:30 AM", "6:00 AM", "6:30 AM", "7:00 AM", "7:30 AM",
        "8:00 AM", "8:30 AM", "9:00 AM", "9:30 AM", "10:00 AM", "10:30 AM", "11:00 AM", "11:30 AM",
        "12:00 PM", "12:30 PM", "1:00 PM", "1:30 PM", "2:00 PM", "2:30 PM", "3:00 PM", "3:30 PM",
        "4:00 PM", "4:30 PM", "5:00 PM", "5:30 PM", "6:00 PM", "6:30 PM", "7:00 PM", "7:30 PM",
        "8:00 PM", "8:30 PM", "9:00 PM", "9:30 PM", "10:00 PM", "10:30 PM", "11:00 PM", "11:30 PM"
    ];

    for (let allowedTime of allowedTimes) {
        const [aTime, aPeriod] = allowedTime.split(' ');
        let [aHours, aMinutes] = aTime.split(':').map(Number);
        if (aPeriod === 'PM' && aHours !== 12) aHours += 12;
        if (aPeriod === 'AM' && aHours === 12) aHours = 0;
        const allowedMinutes = aHours * 60 + aMinutes;

        if (allowedMinutes > currentMinutes) {
            return allowedTime;
        }
    }
    return allowedTimes[0];
}

async function vip(type) {
    const data = await fetchOptimizedData();
    const numbers = data.length ? data.map(item => parseInt(item.number, 10) % 10) : Array(20).fill(Math.floor(Math.random() * 10));
    const mean = numbers.slice(0, 20).reduce((sum, n) => sum + n, 0) / 20;
    const slope = numbers.slice(0, 10).reduce((sum, n, i) => sum + (i < 9 ? (numbers[i + 1] - n) : 0), 0) / 9;
    const freq = numbers.slice(0, 20).reduce((acc, n) => {
        acc[type === 'bigsmall' ? (n >= 5 ? 'big' : 'small') : ([0, 2, 4, 6, 8].includes(n) ? 'red' : 'green')]++;
        return acc;
    }, { big: 0, small: 0, red: 0, green: 0 });
    const votes = [
        mean >=  4 ? 5 : -4.5 ,
        slope >= 0 ? 9 : -4.5 ,
        (type === 'bigsmall' ? freq.big - freq.small : freq.red - freq.green) >= 0 ? 1 : +1
    ];
    const voteSum = votes.reduce((sum, v) => sum + v, 0);

    let result, probability;
    if (type === 'bigsmall') {
        result = voteSum >= 0 ? 'BIG' : 'SMALL';
        probability = 907 + Math.abs(voteSum) * 10000000000 + Math.abs(mean - 9) * 1000000;
    } else {
        result = voteSum >= 0 ? 'RED' : 'GREEN';
        probability = 90 + Math.abs(voteSum) * 0 + Math.abs(mean - 5) * 2;
    }

    if (lastResults[type].slice(0, 3).every(r => r === result)) {
        result = result === 'BIG' ? 'SMALL' : result === 'SMALL' ? 'BIG' : result === 'RED' ? 'GREEN' : 'RED';
        probability -= 15;
    }

    return { result, probability: Math.min(99, Math.max(90, Math.round(probability))) };
}


async function generateResult(period) {
    if (isResultProcessing || !selectedServer || !period) {
        currentResultElement.textContent = !selectedServer ? 'waiting for Server...' : 'Period Not Available';
        return;
    }
    isResultProcessing = true;
    currentResultElement.textContent = 'Processing...';

    const resultType = resultTypeSelect.value || 'bigsmall';
    let prediction;

    try {
        const startTime = Date.now();
        switch (selectedServer) {
            case 'guaranteedWin': prediction = await guaranteedWinServerMethod(resultType, period); break;
            case 'vip': prediction = await vip(resultType); break;
            default: prediction = { result: "No Engine Selected", probability: 0 };
        }

        const elapsed = Date.now() - startTime;
        const delay = Math.max(0, 5000 - elapsed); // 5s minimum
        await new Promise(resolve => setTimeout(resolve, delay));

        const displayText = prediction.message 
            ? `${prediction.result} (${prediction.probability}%) - ${prediction.message}`
            : `${prediction.result} (${prediction.probability}%)`;

        currentResultElement.textContent = displayText;
        currentResult = prediction.result;

        if (prediction.result !== "Awaiting Next Cycle") {
            history.unshift({ 
                period, 
                result: prediction.result, 
                status: "Pending",
                resultType,
                server: selectedServer,
                probability: prediction.probability
            });
            pendingResult = history[0];
            lastResults[resultType].unshift(prediction.result);
            if (lastResults[resultType].length > 5) lastResults[resultType].pop();
        }
        renderHistory();
    } catch (error) {
        console.error("Error in generateResult:", error);
        currentResultElement.textContent = 'Prediction Error';
    } finally {
        isResultProcessing = false;
    }
}

async function fetchGameResult(period) {
    try {
        const response = await fetch("https://api.bdg88zf.com/api/webapi/GetNoaverageEmerdList", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                pageSize: 10,
                pageNo: 1,
                typeId: 1,
                language: 0,
                random: "4a0522c6ecd8410496260e686be2a57c",
                signature: "334B5E70A0C9B8918B0B15E517E2069C",
                timestamp: Math.floor(Date.now() / 1000)
            })
        });

        if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
        const data = await response.json();
        const latestResult = data?.data?.list?.find(item => item.issueNumber === period);
        
        if (latestResult) {
            const actualNumber = parseInt(latestResult.number, 10) % 10;
            console.log(`API Result for period ${period}: ${actualNumber}`);
            return { 
                period: latestResult.issueNumber, 
                result: actualNumber,
                actualResult: actualNumber >= 5 ? 'BIG' : 'SMALL',
                colorResult: [0, 2, 4, 6, 8].includes(actualNumber) ? 'RED' : 'GREEN'
            };
        }
        return null;
    } catch (error) {
        console.error(`Error fetching game result for period ${period}:`, error);
        return null;
    }
}

async function checkPendingResult(period) {
    if (!pendingResult || pendingResult.period !== period) return;

    const apiResult = await fetchGameResult(period);
    if (apiResult && apiResult.period === period) {
        let isWin = false;
        
        if (pendingResult.resultType === 'bigsmall') {
            isWin = pendingResult.result === apiResult.actualResult;
        } else if (pendingResult.resultType === 'redgreen') {
            isWin = pendingResult.result === apiResult.colorResult;
        }

        pendingResult.status = isWin ? "WIN" : "LOSS";
        pendingResult.apiResult = pendingResult.resultType === 'bigsmall' 
            ? apiResult.actualResult 
            : apiResult.colorResult;

        if (isWin) {
            winCount++;
            lossStreak = 0;
            showNotification('win', 'Win Confirmed!');
        } else {
            lossStreak++;
            winCount = 0;
            showNotification('loss', 'Loss Detected!');
        }

        updateAnalysis(pendingResult.status);
        renderHistory();
        pendingResult = null;

        if (winCount >= 30 || lossStreak >= 2) {
            // showBreakPopup();
        }
    }
}

function showBreakPopup() {
    if (breakOverlay && breakPopup) {
        breakOverlay.style.display = "block";
        breakPopup.style.display = "block";
        setTimeout(() => {
            breakOverlay.style.display = "none";
            breakPopup.style.display = "none";
            winCount = 0;
            lossStreak = 0;
        }, 7200000);
    }
}

function renderHistory() {
    if (!historyBody) return;
    historyBody.innerHTML = history.map(h => `
        <div class="history-card ${h.status === 'Pending' ? 'pending' : ''}">
            <div class="history-content">
                <span><i class="fas fa-calendar"></i> Period: <span class="value">${h.period || 'N/A'}</span></span>
                <span><i class="fas fa-server"></i> Engine: <span class="value">${h.server || 'Unknown'}</span></span>
                <span><i class="fas fa-chart-line"></i> Prediction: <span class="value">${h.result} (${h.probability}%)</span></span>
                ${h.status !== 'Pending' ? `
                    <span><i class="fas fa-check-circle"></i> Result: <span class="value">${h.apiResult || 'N/A'}</span></span>
                ` : ''}
            </div>
            <span class="status-icon">
                ${h.status === 'Pending' ? '<span class="pending-spinner"></span>' : 
                  h.status === 'WIN' ? '<span class="win-trophy"></span>' : 
                  '<span class="loss-signal"></span>'}
            </span>
        </div>
    `).join("");
}

function showNotification(type, message) {
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    notification.innerHTML = `
        <span class="notification-text">${message}</span>
        <span class="notification-close">‚úñ</span>
    `;
    document.body.appendChild(notification);

    notification.querySelector('.notification-close').addEventListener('click', () => {
        notification.remove();
    });

    setTimeout(() => {
        if (notification.parentElement) {
            notification.remove();
        }
    }, 3000);
}

function updateAnalysis(result) {
    totalBets++;
    if (result === "WIN") totalWins++;
    else if (result === "LOSS") totalLosses++;

    const winAccuracy = totalBets === 0 ? 0 : ((totalWins / totalBets) * 100).toFixed(2);
    document.getElementById('winAccuracy').textContent = `${winAccuracy}%`;
    document.getElementById('totalWins').textContent = totalWins;
    document.getElementById('totalLosses').textContent = totalLosses;
    document.getElementById('serverStatus').textContent = "Active";

    if (winRateFill) winRateFill.style.width = `${winAccuracy}%`;
}

function clearHistory() {
    history = [];
    totalBets = 0;
    totalWins = 0;
    totalLosses = 0;
    winCount = 0;
    lossStreak = 0;
    mostFrequentElement.textContent = '-';
    leastFrequentElement.textContent = '-';
    document.getElementById('winAccuracy').textContent = "0%";
    document.getElementById('totalWins').textContent = '0';
    document.getElementById('totalLosses').textContent = '0';
    document.getElementById('serverStatus').textContent = "Active";
    if (winRateFill) winRateFill.style.width = '0%';
    lastResults = { bigsmall: [], redgreen: [] };
    resetServerSelection();
    renderHistory();
}

setInterval(updatePeriodAndTimer, 1000);

if (!serverSelect || !resultTypeSelect || !currentResultElement) {
    console.error('Required DOM elements missing. Check HTML.');
    if (currentResultElement) currentResultElement.textContent = 'Setup Error: Check Console';
        }

      
      
let baseBet = 10;
let currentBet = baseBet;
let bankroll = 100;
let target = 200;
let totalProfit = 0;

function applyLevelSettings() {
  bankroll = parseFloat(document.getElementById("initialBankroll").value);
  target = parseFloat(document.getElementById("targetProfit").value);
  baseBet = parseFloat(document.getElementById("startingBet").value);
  currentBet = baseBet;
  totalProfit = 0;
  updateLevelMaintainingUI();
}

function updateLevelMaintainingUI() {
  document.getElementById("remainingToTarget").textContent = Math.max(0, target - totalProfit);
  document.getElementById("nextBet").textContent = currentBet;
}

function updateLevelOnResult(result) {
  if (result === "WIN") {
    bankroll += currentBet;
    totalProfit += currentBet;
    currentBet = baseBet;
  } else if (result === "LOSS") {
    bankroll -= currentBet;
    currentBet *= 2;
  }
  updateLevelMaintainingUI();
}

const originalUpdateAnalysis = updateAnalysis;
updateAnalysis = function(result) {
  originalUpdateAnalysis(result);
  updateLevelOnResult(result);
};

document.addEventListener("DOMContentLoaded", applyLevelSettings);

</script>
    

<script>
const canvas = document.getElementById("particleCanvas");
const ctx = canvas.getContext("2d");
let particles = [];

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
window.addEventListener("resize", resizeCanvas);
resizeCanvas();

function createParticles(num) {
    particles = [];
    for (let i = 0; i < num; i++) {
        particles.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            radius: Math.random() * 3 + 1,
            dx: (Math.random() - 0.5) * 0.7,
            dy: (Math.random() - 0.5) * 0.7,
            color: `hsl(${Math.random() * 360}, 100%, 70%)`
        });
    }
}

function animateParticles() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (let p of particles) {
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2, false);
        ctx.fillStyle = p.color;
        ctx.fill();
        p.x += p.dx;
        p.y += p.dy;

        // Bounce from walls
        if (p.x < 0 || p.x > canvas.width) p.dx *= -1;
        if (p.y < 0 || p.y > canvas.height) p.dy *= -1;
    }
    requestAnimationFrame(animateParticles);
}

createParticles(100);
animateParticles();
</script>


<!-- Settings Section -->
<div id="settingsSection" style="display:none; padding:20px;">
  <div class="analysis-section">
    <div class="section-title">Settings</div>
    <p style="color:white;">Settings options can go here.</p>
  </div>
</div>

<script>
const synth = window.speechSynthesis;
function speakMessage(text) {
    const utter = new SpeechSynthesisUtterance(text);
    const voices = synth.getVoices().filter(v => v.lang.startsWith('en') && v.name.toLowerCase().includes('female'));
    if (voices.length > 0) {
        utter.voice = voices[0];
    }
    utter.pitch = 1;
    utter.rate = 1;
    synth.speak(utter);
}

const originalShowNotification = showNotification;
showNotification = function(type, message) {
    originalShowNotification(type, message);
    if (type === 'win') {
        speakMessage('Win');
    } else if (type === 'loss') {
        speakMessage('Loss');
    }
};

let sessionSeconds = 0;
function formatTime(secs) {
    const hrs = String(Math.floor(secs / 3600)).padStart(2, '0');
    const mins = String(Math.floor((secs % 3600) / 60)).padStart(2, '0');
    const secsR = String(secs % 60).padStart(2, '0');
    return `${hrs}:${mins}:${secsR}`;
}
setInterval(() => {
    sessionSeconds++;
    const sessionTimer = document.getElementById('sessionTimer');
    if (sessionTimer) {
        sessionTimer.textContent = formatTime(sessionSeconds);
    }
}, 1000);


<script>
function scrollToSection(id) {
  const el = document.getElementById(id);
  if (el) el.scrollIntoView({ behavior: 'smooth' });
}
</script>


<!-- Advanced Settings and Features -->

</div>

<script>
let isDark = true;
function toggleTheme() {
  document.body.style.backgroundColor = isDark ? '#ffffff' : '#4b0082';
  document.body.style.color = isDark ? '#000000' : '#ffffff';
  isDark = !isDark;
}

let soundEnabled = true;
function toggleSound() {
  soundEnabled = !soundEnabled;
  alert("Sound " + (soundEnabled ? "Enabled" : "Disabled"));
}

const originalSpeakMessage = speakMessage;
speakMessage = function(text) {
  if (!soundEnabled) return;
  originalSpeakMessage(text);
};

// Notify if profit crosses target
let originalUpdateLevel = updateLevelOnResult;
updateLevelOnResult = function(result) {
  originalUpdateLevel(result);
  const remaining = parseFloat(document.getElementById("remainingToTarget").textContent);
  if (remaining <= 0) {
    speakMessage("üéâ Congratulations! You reached your target!");
    showNotification("win", "üéØ Target Achieved!");
  }
};
</script>



<style>
.page-section { display: none; padding-bottom: 100px; }
.page-section.active { display: block; }
</style>



<div id="settingsPage" class="page-section" style="display:none;">
  <div class="analysis-section">
    <div class="section-title">‚öôÔ∏è App Settings</div>
    <div style="display: flex; flex-direction: column; gap: 12px; padding-bottom: 40px;">
      <label><input type="checkbox" id="darkMode" onchange="toggleDarkMode()"> Enable Dark Mode</label>
      <label><input type="checkbox" id="enableVoice" onchange="toggleVoice()"> Enable Voice Feedback</label>
      <label><input type="checkbox" id="autoBackup" onchange="toggleBackup()"> Enable Auto Backup</label>
      <button class="clear-btn" onclick="saveDefaultSettings()">üíæ Save Settings</button>
    

<div class="analysis-section">
  <div class="section-title">üé® Theme Button Test</div>
  <div style="display: flex; flex-direction: column; gap: 10px;">
    <button class="clear-btn" onclick="applyTheme('theme1')">Ocean Blue</button>
    <button class="clear-btn" onclick="applyTheme('theme2')">Deep Orange</button>
    <button class="clear-btn" onclick="applyTheme('theme3')">Green Matrix</button>
    <button class="clear-btn" onclick="applyTheme('theme4')">Muted Glow</button>
    <button class="clear-btn" onclick="applyTheme('theme5')">Dark Red</button>
    <button class="clear-btn" onclick="applyTheme('default')">Default UI</button>
    <div id="themeStatus" style="margin-top: 10px; font-weight: bold;"></div>
  </div>
</div>

</div>
</div>
  </div>
</div>

<script>
function toggleDarkMode() {
  document.body.classList.toggle("dark-mode");
}
function toggleVoice() {
  localStorage.setItem("voice", document.getElementById("enableVoice").checked);
}
function toggleBackup() {
  localStorage.setItem("autoBackup", document.getElementById("autoBackup").checked);
}
function saveDefaultSettings() {
  alert("‚úÖ Settings Saved!");
}
</script>


<script>
function showPage(id) {
  document.querySelectorAll('.page-section').forEach(p => p.style.display = "none");
  const target = document.getElementById(id);
  if (target) target.style.display = "block";
}
</script>








<script>
function applyTheme(theme) {
  const body = document.body;
  body.className = '';
  body.classList.add(theme === 'default' ? 'default-theme' : theme);
  const status = document.getElementById("themeStatus");
  if (status) status.innerText = "Applied theme: " + theme;
}
</script>




<style id="final-theme-css">
body.theme1 { background-color: #0077b6 !important; color: #e0f7fa !important; }       /* Ocean Blue */
body.theme2 { background-color: #8b3e00 !important; color: #f5e4d0 !important; }       /* Deep Orange */
body.theme3 { background-color: #003300 !important; color: #33ff33 !important; }       /* Matrix Green */
body.theme4 { background-color: #b75e09 !important; color: #181818 !important; }       /* Muted Brown Orange */
body.theme5 { background-color: #7f1d1d !important; color: #fcebea !important; }        /* Muted Dark Red */
body.default-theme { background-color: #4b0082 !important; color: white !important; }  /* Default Purple */
</style>




<script>
function renderHistory() {
  if (!historyBody) return;

  historyBody.innerHTML = history.map(h => {
    const isPending = h.status === 'Pending';
    const isWin = h.status === 'WIN';
    const isLoss = h.status === 'LOSS';

    const resultBlock = isPending ? '' : `
      <div class="result-box ${isWin ? 'win' : 'loss'}">
        <span>Final Result: <strong>${h.apiResult || 'N/A'}</strong></span>
        <span class="result-tag">${isWin ? '‚úÖ WIN' : '‚ùå LOSS'}</span>
      </div>
    `;

    return `
      <div class="history-card ${isPending ? 'pending' : ''}">
        <div class="history-content">
          <span>üìÖ Period: <strong>${h.period || 'N/A'}</strong></span><br/>
          <span>üß† Engine: <strong>${h.server || 'Unknown'}</strong></span><br/>
          <span>üìä Prediction: <strong>${h.result} (${h.probability}%)</strong></span>
          ${resultBlock}
        </div>
      </div>
    `;
  }).join("");
}
</script>

</div>

<!-- LOGIN SCRIPT (auto‚Äëinserted) -->
<script>
function getDeviceId(){
  if(!localStorage.device_id){
    localStorage.device_id = 'DEV-' + Math.random().toString(36).substr(2,9).toUpperCase();
  }
  return localStorage.device_id;
}
if(typeof validateKeyAndRegisterDevice!=='function'){
  function validateKeyAndRegisterDevice(key,deviceId){
    const all=JSON.parse(localStorage.keys||'{}');
    if(!all[key]) return {ok:false,reason:'Invalid key'};
    const rec=all[key];
    if(new Date(rec.expires)<new Date()) return {ok:false,reason:'Key expired'};
    const listKey='devices_'+key;
    let list=JSON.parse(localStorage.getItem(listKey)||'[]');
    if(!list.includes(deviceId)&&list.length>=rec.allowed) return {ok:false,reason:'Device limit reached'};
    if(!list.includes(deviceId)){
      list.push(deviceId);rec.used=list.length;
      localStorage.setItem(listKey,JSON.stringify(list));
      all[key]=rec;localStorage.keys=JSON.stringify(all);
    }
    return {ok:true};
  }
}
function logAttempt(status){
  const logs=JSON.parse(localStorage.adminLogs||'[]');
  logs.push({time:Date.now(),action:'LOGIN',status,ip:'n/a'});
  localStorage.adminLogs=JSON.stringify(logs);
}
const loginPage=document.getElementById('loginPage');
const appPage=document.getElementById('app');
const keyInput=document.getElementById('keyInput');
const loginBtn=document.getElementById('loginBtn');
function speak(msg){try{const u=new SpeechSynthesisUtterance(msg);speechSynthesis.cancel();speechSynthesis.speak(u);}catch(e){}}
function doLogin(){
  const key=(keyInput.value||'').trim().toUpperCase();
  const res=validateKeyAndRegisterDevice(key,getDeviceId());
  if(res.ok){
    localStorage.setItem('evh_logged_in','true');
    localStorage.setItem('evh_key', key);
    loginPage.style.display='none';
    appPage.style.display='block';
    speak('login successful');logAttempt('SUCCESS');
  }else{
    alert(res.reason);speak('login failed');logAttempt('FAIL');
  }
}
loginBtn&&loginBtn.addEventListener('click',doLogin);
keyInput&&keyInput.addEventListener('keyup',e=>{if(e.key==='Enter')doLogin();});
(function(){
  const saved=localStorage.getItem('evh_key');
  if(localStorage.getItem('evh_logged_in')==='true'&&saved){
    if(validateKeyAndRegisterDevice(saved,getDeviceId()).ok){
      loginPage.style.display='none';appPage.style.display='block';
      return;
    }
  }
  loginPage.style.display='flex';appPage.style.display='none';
})();
</script>
<!-- /LOGIN SCRIPT -->





<script>
(function(){
  function speakStatus(status){
    const synth = window.speechSynthesis;
    const text = status === 'win' ? 'Win' : 'Loss';
    const utter = new SpeechSynthesisUtterance(text);
    utter.lang = 'en-US';
    utter.pitch = 1.1;
    utter.rate = 1;

    function trySetVoice(retries=0){
      const voices = synth.getVoices();
      if(voices.length){
        const preferred = voices.find(v=>v.lang.startsWith('en') && v.name.toLowerCase().includes('female'));
        utter.voice = preferred || voices[0];
        synth.speak(utter);
      }else if(retries < 10){
        setTimeout(()=>trySetVoice(retries+1), 200);
      }
    }
    trySetVoice();
  }

  // expose globally
  window.speakStatus = speakStatus;

  // patch notification to auto‚Äëspeak
  const originalShowNotification = window.showNotification;
  window.showNotification = function(type, message){
    if(typeof originalShowNotification === 'function'){
      originalShowNotification(type, message);
    }
    if(type === 'win' || type === 'loss'){
      speakStatus(type);
    }
  };
})();
</script>

</body>
</html>